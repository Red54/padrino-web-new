<!DOCTYPE html><html><head><meta charset="utf-8" /><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" /><meta content="initial-scale=1" name="viewport" /><title>Padrino - The Elegant Ruby Web Framework</title><link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet" /><link href="../../../assets/stylesheets/style-75d468d0.css" rel="stylesheet" /></head><body class="blog blog_page blog_page_3 blog_page_3_index"><div class="grid"><header class="header"><h1 class="header__name"><a class="padrino-name" href="/">Padrino</a></h1><div class="header__navigation"><nav class="navigation"><a class="navigation__toggler" href="#" id="navigation__toggler"><span class="navigation__toggler__icon fa fa-navicon"></span></a><ul class="navigation__items" id="navigation__items"><li class="navigation__item"><a class="navigation__link" href="/">Overview</a></li><li class="navigation__item"><a class="navigation__link" href="/guides/">Guides</a></li><li class="navigation__item"><a class="navigation__link" href="http://www.rubydoc.info/github/padrino/padrino-framework">API</a></li><li class="navigation__item"><a class="navigation__link" href="/contribute/">Contribute</a></li><li class="navigation__item"><a class="navigation__link--is-active" href="/blog/">Blog</a></li><li class="navigation__item"><a class="navigation__link" href="https://github.com/padrino/padrino-framework"><span class="button--slim">GitHub</span></a></li></ul></nav></div></header><div class="page"><div class="page__sidebar"><div class="sidebar"><h4 class="sidebar__header--first">Blog</h4><h5 class="sidebar__header">Latest Posts</h5><ul class="sidebar__items"><li class="sidebar__item"><a class="sidebar__link" href="/blog/padrino-0-12-5/">Padrino 0.12.5</a></li><li class="sidebar__item"><a class="sidebar__link" href="/blog/padrino-0-12-4/">Padrino 0.12.4</a></li><li class="sidebar__item"><a class="sidebar__link" href="/blog/padrino-0-11-0-released-padrino-lives/">Padrino 0.11.0 Released - Padrino Lives!</a></li><li class="sidebar__item"><a class="sidebar__link" href="/blog/json-gem-vulnerability/">JSON gem vulnerability</a></li><li class="sidebar__item"><a class="sidebar__link" href="/blog/upgrade-rack-immediately/">Upgrade Rack immediately</a></li></ul></div></div><div class="page__content"><div class="content"><div class="article"><h1 class="article__title"><a href="/blog/upgrade-rack-immediately/">Upgrade Rack immediately</a></h1><p class="article__metadata">Posted on February 08, 2013 by Florian</p><p>All Rack users, including all Padrino users, should upgrade their <a href="http://rack.github.com/">Rack</a> dependency as soon as possible. Multiple severe issues have been found, one of them including a potential remote code execution. This is espcially important if you are using Rack::Session::Cookie, which Padrino activates by default. See the Rack website for details.</p>

<p>To upgrade, use:</p>

<pre class="highlight plaintext"><code>bundle update rack
</code></pre>

<p>And make sure that you installed any of these versions: 1.5.2, 1.4.5, 1.3.10, 1.2.8, 1.1.6.</p>
<hr /></div><div class="article"><h1 class="article__title"><a href="/blog/sleep-well-yaml-vulnerabilites-and-padrino/">Sleep well - YAML vulnerabilites and Padrino</a></h1><p class="article__metadata">Posted on February 03, 2013 by Florian</p><p>Rails and the Ruby community had their fair share of security vulnerabilities in the recent days. Where does that leave Padrino users?</p>

<p>In short: You are safe, unless you explicitely activated some form of parameter parsing that either parses YAML directly or uses XmlMini when accepting requests or parsing responses from backend sources.</p>

<p>Currently, some security issues plagued the Rails community. The most dangerous is <a href="https://groups.google.com/forum/#!topic/rubyonrails-security/61bkgvnSGTQ/discussion">CVE-156</a> , which is present in almost all Rails installations. Default Sinatra and Padrino are unaffected, see <a href="https://groups.google.com/forum/#!msg/sinatrarb/nUzRwTzkycU/ILoXoHxwn-0J">this discussion</a> on the Sinatra mailing list for details. All hints given there are true for Padrino users as well.</p>

<p>If you are using any of the Rails components in question either directly or through dependencies, you should upgrade them. The most important components in question are YAML (both Psych and Syck) or XmlMini. Popular projects using them are <a href="https://github.com/achiu/rack-parser">Rack::Parser</a> (fixed) and <a href="https://github.com/niko/rack-post-body-to-params">Rack::PostBodyToParams</a>. If you use the first: run <code>bundle upgrade</code> and make sure you get version <code>0.2.0</code> and higher! Update: The same goes for rack-post-body-params (see the comments).</p>

<h2 id="what-are-those-attacks-about-and-how-can-i-validate-my-stack">What are those attacks about and how can I validate my stack?</h2>

<p>The <a href="https://github.com/dtao/safe_yaml">safe_yaml README</a> explains it very well. Basically, <code>YAML.load</code> allows you to instantiate arbitary objects, which is the first step to running arbitrary code. Any code path leading to a <code>YAML.load</code> of untrusted (read: external) data is a potential vulnerability. This includes consuming data accepted from web services or parsing Gemspecs.</p>

<p>To validate that you are safe, take the following steps:</p>

<ul>
  <li>Make a list of all libraries that you are using to accept data – Request parsers and webservice clients are the most popular ones. Padrino does not silently activate any of them, all have been added by yourself.
 – Check if any of those use YAML.load somewhere (a simple <code>grep</code> should suffice)
    <ul>
      <li>Check what is loaded: local configuration data is fine, external data is not</li>
      <li>If you want to be on the safe side, see if you application runs well with <a href="https://rubygems.org/gems/safe_yaml">safe_yaml</a></li>
    </ul>
  </li>
  <li>Check if you or any of those libraries have any dependency to XmlMini
 – If yes, upgrade XmlMini to at least 0.5.2</li>
</ul>

<h2 id="make-your-application-ready-for-padrino-011">Make your application ready for Padrino 0.11</h2>

<p>While nothing of “upgrade now!”-severity, the soon to be released Padrino 0.11 contains a few important security additions, especially XSS-safe rendering using <code>ActiveSupport::SafeBuffer</code>. Test you application against the current master so that you can upgrade when it is released.</p>

<h2 id="a-final-word">A final word</h2>

<p>Finally, I’d like to say thank you to all Rails contributors working on fixing the found bugs and the Rubygems team for fixing Rubygems.org as fast as they did. Also a big thank you to everyone that found those vulnerabilities.</p>
<hr /></div><li><a href="/blog/page/2/">Prev Page</a></li><li><a href="/blog/page/4/">Next Page</a></li></div></div></div><hr /><footer class="footer"><p>Padrino is released under the MIT LICENSE<br />
Hosting by <a href="https://pages.github.com">GitHub Pages</a></p>
</footer><script src="../../../assets/javascripts/all-c2e0cecd.js"></script></div></body></html>